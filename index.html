<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>UniArtix角藝設計</title>
        <link rel="apple-touch-icon" sizes="180x180" href="image/favicon_io/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="image/favicon_io/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="image/favicon_io/favicon-16x16.png">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link href="./css/main.css?v=2" rel="stylesheet" type="text/css">
        <link href="./css/index.css?v=2" rel="stylesheet" type="text/css">
        <link href="./css/load.css?v=2" rel="stylesheet" type="text/css">
    </head>
    <body>
        <div class="load centerparent-flex">...LOADING...</div>
        <div id = "content" class = "content centerparent-grid">
            <div class = "header centerparent-flex">
                <div id = "work" class="btn" onclick="load('home')"><span>HOME</span></div>
                <div id = "work" class="btn" onclick="load('work')"><span>WORK</span></div>
                <div id = "about" class="btn" onclick="load('about')"><span>ABOUT</span></div>
                <div id = "blog" class="btn" onclick="load('blog')"><span>BLOG</span></div>
                <div id = "contacts" class="btn" onclick="load('contacts')"><span>CONTACTS</span></div>
            </div>
            <div id = "changecontent" class = "maincontain centerparent-grid">
            </div>
        </div>
    </body>

    <script>
        load('home');
        window.onresize = resizeWindowSize;
        window.onload=function(){
            //resizeWindowSize();
            $(".load").fadeOut(1000);
        }
        function resizeWindowSize(){
            if ($(window).height() / $(window).width() > 2160/3840){
                $(".maincontain video").css("height","100vh");
                $(".maincontain video").css("width","auto");
            }
            else{
                $(".maincontain video").css("width","100vw");
                $(".maincontain video").css("height","auto");
            }
        }
        function load(id){
            var endf = function(){
                resizeWindowSize();
                if (id == "home"){
                    const video = document.querySelector("video");
                    video.addEventListener("playing", (event) => {
                        $(".load").fadeOut(1000);
                    });
                }
                else{$(".load").fadeOut(1000);}
            }
            var loadf = function(){
                $( "#changecontent" ).load( "./html/"+id+".html", endf);
            }
            $(".load").fadeIn(500, loadf);
        }
    
    </script>
</html>